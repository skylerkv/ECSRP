{"version":3,"file":"js/app.2016a7b3.js","mappings":"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","sources":["webpack://bbs/./src/components/Top.vue","webpack://bbs/./src/library/server.js","webpack://bbs/./src/library/topic.js","webpack://bbs/./src/library/subscribe.js","webpack://bbs/./src/components/FollowBtn.vue","webpack://bbs/./src/components/FollowBtn.vue?653c","webpack://bbs/./src/library/article.js","webpack://bbs/./src/components/NormalButton.vue","webpack://bbs/./src/components/Dialog.vue","webpack://bbs/./src/components/Dialog.vue?c288","webpack://bbs/./src/library/date.js","webpack://bbs/./src/components/Article.vue","webpack://bbs/./src/components/Article.vue?2a1b","webpack://bbs/./src/components/TopicInfo.vue","webpack://bbs/./src/components/TopicInfo.vue?11af","webpack://bbs/./src/components/TopicList.vue","webpack://bbs/./src/components/TopicList.vue?0bbd","webpack://bbs/./src/components/CommentList.vue","webpack://bbs/./src/components/Topic.vue","webpack://bbs/./src/components/Topic.vue?6102","webpack://bbs/./src/components/SlideShow.vue","webpack://bbs/./src/components/SlideShow.vue?2b0c","webpack://bbs/./src/pages/home.vue","webpack://bbs/./src/pages/home.vue?4cd7","webpack://bbs/./src/components/User.vue","webpack://bbs/./src/components/User.vue?4bbd","webpack://bbs/./src/pages/member.vue","webpack://bbs/./src/pages/member.vue?4d93","webpack://bbs/./src/pages/category.vue","webpack://bbs/./src/pages/category.vue?888c","webpack://bbs/./src/pages/about_us.vue","webpack://bbs/./src/pages/about_us.vue?59e1","webpack://bbs/./src/pages/manager.vue","webpack://bbs/./src/pages/manager.vue?0525","webpack://bbs/./src/library/mesasge.js","webpack://bbs/./src/App.vue","webpack://bbs/./src/App.vue?3e46","webpack://bbs/./src/main.js","webpack://bbs/webpack/bootstrap","webpack://bbs/webpack/runtime/chunk loaded","webpack://bbs/webpack/runtime/define property getters","webpack://bbs/webpack/runtime/global","webpack://bbs/webpack/runtime/hasOwnProperty shorthand","webpack://bbs/webpack/runtime/publicPath","webpack://bbs/webpack/runtime/jsonp chunk loading","webpack://bbs/webpack/startup"],"sourcesContent":["import script from \"./Top.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Top.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Top.vue?vue&type=style&index=0&id=540f5032&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-540f5032\"]])\n\nexport default __exports__","\r\nconst serverHost = \"/bbs/bbs_api\"\r\n\r\n/**\r\n * Get data from the server\r\n * @param {string} url reqeust location\r\n * @param {RequestInit} init \r\n * @returns Responder object\r\n */\r\nexport async function fetchDataFromServer(url, init) {\r\n    const u = serverHost + url\r\n    console.log('请求地址', u)\r\n    const resp = await fetch(serverHost + url, {\r\n        mode: 'cors',\r\n        ...init\r\n    })\r\n    return resp\r\n}\r\n\r\n/**\r\n * Check whether the request is successful\r\n * @param {Promise<Response>} resp \r\n */\r\nexport async function isOk(resp) {\r\n    if (!resp.json) {\r\n        console.log(\"isOk fail:可能是请求方法忘记await\", resp)\r\n        return\r\n    }\r\n\r\n    const result = await resp.json()\r\n    if (result) {\r\n\r\n        return {\r\n            ok: result.status == 'ok',\r\n            message: result.message,\r\n            data: result.data\r\n        }\r\n    }\r\n\r\n    return null\r\n}","import { fetchDataFromServer, isOk } from \"../library/server\"\r\nimport aImage from \"../assets/images/4a6a714b141a8d2bee058d47c0a4702.jpg\"\r\nimport bmage from \"../assets/images/028b5dc489ada80228d04c71cfa0975.png\"\r\n\r\nimport cImage from \"../assets/images/1778b7d044ba70b8b3cf35f6a0e8b63.jpg\"\r\nimport dImage from \"../assets/images/a093cb7e711667cf2786c238e58f19e.png\"\r\nimport eImage from \"../assets/images/c68e43db8acec1e8184b759bf02efe3.png\"\r\nimport fImage from \"../assets/images/inbound.jpg\"\r\n\r\nexport class Topic {\r\n    constructor(image, followers) {\r\n        this.image = image\r\n        this.followers = followers\r\n    }\r\n}\r\n\r\nexport function getRecommendTopicList() {\r\n\r\n    const testTopicImages = [aImage, bmage, cImage, dImage, eImage, fImage]\r\n\r\n\r\n    const recommendTopicList = new Array(testTopicImages.length).fill(666).map((_, i) => {\r\n        return {\r\n            image: testTopicImages[i],\r\n            name: 'test',\r\n            followers: i * 10 + '',\r\n            id: 'B' + i\r\n        }\r\n    })\r\n\r\n    return recommendTopicList\r\n}\r\n\r\n/**\r\n * get the detail of topic\r\n * @param {string} topicName \r\n */\r\nexport async function getTopic(topicName) {\r\n    const resp = await fetchDataFromServer(`/get_topic.php?name=${topicName}`)\r\n    return resp\r\n}\r\n\r\n/**\r\n * get all topic\r\n */\r\nexport async function getAllTopic() {\r\n    const resp = await fetchDataFromServer(`/get_all_topic.php`)\r\n    return resp\r\n}\r\n\r\n/**\r\n * follow topic\r\n * @param {string} topicID \r\n */\r\nexport async function followTopic(topicID) {\r\n    const resp = await fetchDataFromServer(`/follow_topic.php?topic_id=${topicID}`)\r\n    return resp\r\n}\r\n\r\n/**\r\n * Get all unpublished articles\r\n */\r\nexport async function getAllArticleUnpublished() {\r\n    const resp = await fetchDataFromServer(`/get_all_article_unpublished.php`)\r\n    return resp\r\n}\r\n\r\n/**\r\n * Allows the publication of specified articles\r\n */\r\nexport async function allowPublishArticle(articleID) {\r\n    const resp = await fetchDataFromServer(`/allow_publish_article.php?article_id=${articleID}`)\r\n    return resp\r\n}\r\n\r\n/**\r\n * Delete an article\r\n * @param {string} articleID \r\n */\r\nexport async function deleteArticle(articleID) {\r\n    const resp = await fetchDataFromServer(`/delete_article.php?article_id=${articleID}`)\r\n    return resp\r\n}\r\n\r\n\r\n/**\r\n * create topic\r\n * @param {FormData} formData Uploaded file\r\n * @param {string} type Topic type\r\n * @param {string} topicName \r\n * @param {string} topicDesp description of article\r\n */\r\nexport async function createTopic(formData, type, topicName, topicDesp) {\r\n    const resp = await fetchDataFromServer(`/create_topic.php?name=${topicName}&desp=${topicDesp}&type=${type}`, {\r\n        body: formData,\r\n        method: 'POST'\r\n    })\r\n    return resp\r\n}\r\n\r\n/**\r\n * Refresh topic data\r\n * @param {Ref} topic tipic ref\r\n */\r\nexport async function reloadTopic(topic) {\r\n    const resp = await getTopic(topic.value.name)\r\n    const { ok, data } = await isOk(resp)\r\n    console.log('获得话题详情', topic, ok, data)\r\n    if (ok) {\r\n        console.log('话题详情', data)\r\n        topic.value = data\r\n    }\r\n    return data\r\n}","const center = {\r\n    updateHotTopic: []\r\n}\r\n\r\nexport const updateTopicListEvent = 'updateTopicList'\r\nexport const updateTopicFollowStatusEvent = 'updateTopicFollowStatus'\r\n\r\n/**\r\n * Subscribe to an event and callback function when the event occurs\r\n * @param {string} eventName event name\r\n * @param {*} callback The callback function that is executed when the event occurs\r\n */\r\nexport function subscribe(eventName, callback) {\r\n    if (center[eventName]) {\r\n        center[eventName].push(callback)\r\n    } else {\r\n        center[eventName] = [callback]\r\n    }\r\n}\r\n\r\n/**\r\n * An event is triggered, and all callbacks subscribed to this event are executed in sequence, with data\r\n * @param {*} eventName event name\r\n * @param {*} data data\r\n */\r\nexport function emitEvent(eventName, data) {\r\n    center[eventName].forEach(callback => {\r\n        callback(data)\r\n    });\r\n}","<template>\r\n  <div class=\"follow_btn\" @click.stop=\"onFollowTopic\">\r\n    <div class=\"follow\" v-if=\"theTopic.followed\">followed</div>\r\n    <div class=\"follow\" v-else>+follow</div>\r\n    <div class=\"follow_info\">{{ theTopic.followers }}people followed</div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n/* component to follow */\r\nimport { defineProps, defineEmits, computed, onMounted } from \"vue\";\r\n\r\nimport { followTopic, reloadTopic } from \"@/library/topic\";\r\nimport { isOk } from \"@/library/server\";\r\nimport {\r\n  emitEvent,\r\n  updateTopicFollowStatusEvent,\r\n  updateTopicListEvent,\r\n  subscribe,\r\n} from \"@/library/subscribe\";\r\n\r\nconst props = defineProps({\r\n  topic: Object,\r\n});\r\n\r\nconst emit = defineEmits([\"update:topic\"]);\r\n\r\nconst theTopic = computed({\r\n  get() {\r\n    return props.topic;\r\n  },\r\n  set(v) {\r\n    emit(\"update:topic\", v);\r\n  },\r\n});\r\n\r\nonMounted(() => {\r\n  reloadTopic(theTopic);\r\n});\r\n\r\nsubscribe(updateTopicFollowStatusEvent, (data) => {\r\n  if (theTopic.value.id == data.id) {\r\n    console.log(\"Found that the user clicked another follow button on the same topic to update the status of this component\");\r\n    theTopic.value = data;\r\n  }\r\n});\r\n\r\nasync function onFollowTopic() {\r\n  const resp = await followTopic(theTopic.value.id);\r\n  const { ok, message } = await isOk(resp);\r\n  if (ok) {\r\n    emitEvent(updateTopicListEvent);\r\n    const topicData = await reloadTopic(theTopic);\r\n    emitEvent(updateTopicFollowStatusEvent, topicData);\r\n  } else {\r\n    alert(message);\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.follow_btn {\r\n  display: flex;\r\n\r\n  justify-content: center;\r\n\r\n  align-items: center;\r\n\r\n  background: #8ad2ee;\r\n  border-radius: 4px;\r\n\r\n  color: #fff;\r\n\r\n  font-size: 0.8rem;\r\n\r\n  cursor: pointer;\r\n  margin: 8px;\r\n\r\n  flex: 1;\r\n}\r\n\r\n.follow_btn > .follow {\r\n  padding: 8px;\r\n}\r\n\r\n.follow_btn > .follow_info {\r\n  padding: 8px;\r\n\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n</style>","import script from \"./FollowBtn.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FollowBtn.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FollowBtn.vue?vue&type=style&index=0&id=60814ceb&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-60814ceb\"]])\n\nexport default __exports__","import { fetchDataFromServer } from \"../library/server\"\r\nexport class Topic {\r\n    constructor(image, followers) {\r\n        this.image = image\r\n        this.followers = followers\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * publish article\r\n * @param {number} topic_id article_ID\r\n * @param {string} article_name name of article\r\n * @param {string} article_content content of article\r\n * @returns \r\n */\r\nexport async function publishArticle(topic_id, article_name, article_content) {\r\n    const url = `/publish_article.php?topic_id=${topic_id}&article_name=${article_name}&article_content=${article_content}`\r\n    const resp = await fetchDataFromServer(url)\r\n    return resp\r\n}","import script from \"./NormalButton.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NormalButton.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NormalButton.vue?vue&type=style&index=0&id=4cb20c31&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4cb20c31\"]])\n\nexport default __exports__","<template>\n  <div class=\"dialog\" v-if=\"showing\">\n    <div\n      class=\"dialog_content\"\n      :style=\"{ width: props.width, height: props.height }\"\n    >\n      <div\n        :class=\"props.background ? 'dialog_name' : 'dialog_name_no_background'\"\n      >\n        <div class=\"title\">{{ props.name }}</div>\n        <img :src=\"closeImage\" class=\"close\" @click.stop=\"onClose\" />\n      </div>\n\n      <div class=\"slot\">\n        <slot></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport closeImage from \"../assets/images/icon/close.svg\";\nimport { computed, defineProps, defineEmits } from \"vue\";\n\nconst props = defineProps({\n  showing: {\n    type: Boolean,\n    required: true,\n  },\n  name: {\n    type: String,\n    required: true,\n  },\n  background: {\n    type: Boolean,\n  },\n  height: String,\n  width: String,\n});\n\nconst emit = defineEmits([\"update:showing\"]);\n\nconst showing = computed({\n  get() {\n    return props.showing;\n  },\n  set(value) {\n    emit(\"update:showing\", value);\n  },\n});\n\nfunction onClose() {\n  showing.value = false;\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.dialog {\n  position: fixed;\n  left: 0;\n  top: 0;\n  height: 100vh;\n  width: 100vw;\n\n  z-index: 1000;\n\n  background: #7575759a;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.dialog_name {\n  background: url(../assets/images/1778b7d044ba70b8b3cf35f6a0e8b63.jpg);\n  background-size: 100% 100%;\n\n  min-height: 140px;\n  min-width: 300px;\n\n  display: flex;\n  align-items: center;\n\n  padding: 16px;\n\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n\n  flex: 1 0 auto;\n}\n\n.dialog_name_no_background {\n  background: #9ac0ebd3;\n  padding: 16px;\n\n  display: flex;\n  align-items: center;\n  color: #fff;\n\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n}\n\n.dialog_name > .text {\n  color: #fff;\n  font-size: 1.4rem;\n  font-weight: bold;\n  padding: 16px;\n}\n\n.title {\n  flex: 1 0 auto;\n  font-size: 1.2rem;\n  color: #fff;\n}\n\n.dialog_content {\n  display: flex;\n  flex-direction: column;\n  border-radius: 8px;\n\n  min-width: 400px;\n  overflow: hidden;\n  background: #fff;\n}\n\n.slot {\n  display: flex;\n  flex-direction: column;\n\n  flex: 1 0 auto;\n  overflow: hidden;\n  padding: 16px;\n}\n\n.close {\n  width: 32px;\n  height: 32px;\n  padding: 8px;\n  border-radius: 8px;\n}\n\n.close:hover {\n  background: #d1d1d193;\n}\n</style>\n","import script from \"./Dialog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Dialog.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Dialog.vue?vue&type=style&index=0&id=2178a8f7&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2178a8f7\"]])\n\nexport default __exports__","\r\n/**\r\n * Get the date string corresponding to the timestamp, for example, today 15:33, yesterday 04:05\r\n * @param {string} $timestamp timestamp\r\n */\r\nexport function getDateString(timestamp) {\r\n    const date = new Date(timestamp * 1000)\r\n\r\n    const today = new Date()\r\n    const yesterday = new Date(today - 24 * 60 * 60 * 1000)\r\n\r\n    const hoursText = date.getHours().toString().padStart(2, '0')\r\n    const minutesText = date.getMinutes().toString().padStart(2, '0')\r\n\r\n    const timeText = `${hoursText}:${minutesText}`\r\n    const monthText = `${date.getMonth() + 1}-${date.getDate()}`\r\n\r\n    if (isSameDate(date, today)) {\r\n        return \"今天\" + timeText\r\n    } else if (isSameDate(date, yesterday)) {\r\n        return \"昨天\" + timeText\r\n    } else if (isSameYear(date, today)) {\r\n\r\n        const distance = getDayDistance(date, today)\r\n        if (distance < 7) {\r\n            return `${distance}天前`\r\n        } else {\r\n            return monthText\r\n        }\r\n    } else {\r\n\r\n        return `${date.getFullYear()}-${monthText}`\r\n    }\r\n}\r\n\r\n/**\r\n * Whether the two dates are the same\r\n * @param {Date} a date\r\n * @param {Date} b data\r\n */\r\nfunction isSameDate(a, b) {\r\n    const year = a.getFullYear()\r\n    const month = (a.getMonth() + 1).toString().padStart(2, '0')\r\n    const day = a.getDate().toString().padStart(2, '0')\r\n\r\n    const year1 = b.getFullYear()\r\n    const month1 = (b.getMonth() + 1).toString().padStart(2, '0')\r\n    const day1 = b.getDate().toString().padStart(2, '0')\r\n\r\n    return year === year1 && month === month1 && day === day1\r\n\r\n}\r\n\r\n/**\r\n * The number of days between two dates\r\n * @param {Date} a date\r\n * @param {Date} b date\r\n */\r\nfunction getDayDistance(a, b) {\r\n    var oneDay = 24 * 60 * 60 * 1000;\r\n    var distance = Math.round(Math.abs((a - b) / oneDay))\r\n    return distance\r\n}\r\n\r\n/**\r\n * Whether the two dates are in the same year\r\n * @param {Date} a date\r\n * @param {Date} b date\r\n */\r\nfunction isSameYear(a, b) {\r\n    const year = a.getFullYear()\r\n    const year1 = b.getFullYear()\r\n\r\n    return year === year1\r\n}","<template>\r\n  <div class=\"the_article\">\r\n    <div class=\"col\" style=\"flex: 1 1 auto\">\r\n      <div class=\"article_name\">{{ props.article.name }}</div>\r\n      <div class=\"article_content\">{{ props.article.content }}</div>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"comment\">comment</div>\r\n      <div class=\"comment_list\">\r\n        <div class=\"comment\" v-for=\"comment in comments\" :key=\"comment.id\">\r\n          <div class=\"nickname\">{{ comment.nickname }}</div>\r\n          <div class=\"text\">{{ comment.comment }}</div>\r\n          <div class=\"create_time\">\r\n            {{ getDateString(comment.create_time) }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"publish_comment\">\r\n        <input type=\"text\" v-model=\"commentContent\" />\r\n        <NormalButton @click=\"publishComment\">publish comment</NormalButton>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { fetchDataFromServer } from \"../library/server\";\r\n\r\nimport { defineProps, ref } from \"vue\";\r\nimport NormalButton from \"./NormalButton.vue\";\r\nimport { isOk } from \"@/library/server\";\r\nimport { emitEvent, updateTopicListEvent } from \"@/library/subscribe\";\r\n\r\nimport { getDateString } from \"@/library/date\";\r\n\r\nconst props = defineProps({\r\n  article: {\r\n    type: Object,\r\n    required: true,\r\n    default() {\r\n      return {\r\n        id: 0,\r\n        name: \"\",\r\n        topic_id: 0,\r\n        author_id: 0,\r\n        content: \"\",\r\n        create_time: 0,\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nconst comments = ref([]);\r\n\r\ngetComment();\r\n\r\n/**\r\n * get all of the comment of article\r\n * @param {string} topicName name of article\r\n */\r\nasync function getComment() {\r\n  const resp = await fetchDataFromServer(\r\n    `/get_comment.php?article_id=${props.article.id}`\r\n  );\r\n  const { ok, data, message } = await isOk(resp);\r\n\r\n  if (ok) {\r\n    comments.value = data;\r\n  } else {\r\n    alert(message);\r\n  }\r\n}\r\n\r\nconst commentContent = ref(\"\");\r\n\r\n/**\r\n * public comment\r\n * @param {string} topicName name of topic\r\n */\r\nasync function publishComment() {\r\n  const resp = await fetchDataFromServer(\r\n    `/publish_comment.php?article_id=${props.article.id}&comment_content=${commentContent.value}`\r\n  );\r\n  const { ok, message } = await isOk(resp);\r\n  if (ok) {\r\n    emitEvent(updateTopicListEvent);\r\n    getComment();\r\n  } else {\r\n    alert(message);\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.the_article {\r\n  display: flex;\r\n  overflow: hidden;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.article_name {\r\n  display: flex;\r\n  justify-content: center;\r\n  font-size: 1.4rem;\r\n  padding: 16px;\r\n}\r\n\r\n.article_content {\r\n  display: flex;\r\n  padding: 16px;\r\n}\r\n\r\n.col {\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  flex-shrink: 0;\r\n}\r\n\r\n.comment {\r\n  margin: 8px 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.comment > .text {\r\n  padding: 8px 0;\r\n}\r\n\r\n.comment > .create_time {\r\n  color: #666;\r\n}\r\n\r\n.comment_list {\r\n  overflow: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  flex: 1 0 auto;\r\n  height: 200px;\r\n}\r\n\r\n.publish_comment {\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  flex-shrink: 0;\r\n}\r\n</style>","import script from \"./Article.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Article.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Article.vue?vue&type=style&index=0&id=f2bb3a04&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f2bb3a04\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"topic\">\r\n    <div class=\"title\">\r\n      <img\r\n        class=\"image\"\r\n        :style=\"{ width: props.width + 'px' }\"\r\n        alt=\"Vue logo\"\r\n        :src=\"theTopic.image\"\r\n      />\r\n      <div class=\"info\">\r\n        <div class=\"name\">{{ theTopic.name }}</div>\r\n        <div class=\"count\">{{ theTopic.article_count }} articles</div>\r\n        <div class=\"desp\">{{ theTopic.desp }}</div>\r\n        <FollowBtn :topic=\"theTopic\" @update:topic=\"updateTopic\"></FollowBtn>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"articleList\">\r\n      <div class=\"count\">\r\n        <div class=\"text\">{{ theTopic.article_count }} <article></article></div>\r\n        <NormalButton @click=\"showPublishArticleDialog = true\"\r\n          >publish articles</NormalButton\r\n        >\r\n      </div>\r\n      <div class=\"list\">\r\n        <div>\r\n          <div\r\n            class=\"article\"\r\n            @click=\"onClickArticle(article)\"\r\n            v-for=\"article in theTopic.articles\"\r\n            :key=\"article.name\"\r\n          >\r\n            <!-- <image class=\"image\" :src=\"article.image\"></image> -->\r\n            <div class=\"info\">\r\n              <div class=\"name\">{{ short(article.name) }}</div>\r\n              <div class=\"desp\">{{ short(article.content) }}</div>\r\n            </div>\r\n            <div class=\"comment\">{{ article.comments.length }}comments</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Dialog name=\"publish article\" v-model:showing=\"showPublishArticleDialog\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"please enter the name of article\"\r\n        v-model=\"newArticleName\"\r\n      />\r\n      <textarea\r\n        rows=\"6\"\r\n        placeholder=\"please enter the content of article\"\r\n        v-model=\"newArticleContent\"\r\n      ></textarea>\r\n      <NormalButton @click=\"onPublishArticle\">publish the article</NormalButton>\r\n    </Dialog>\r\n\r\n    <Dialog\r\n      name=\"article\"\r\n      v-model:showing=\"showArticleDialog\"\r\n      width=\"80vw\"\r\n      height=\"80vh\"\r\n    >\r\n      <Article :article=\"article\"></Article>\r\n    </Dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n/* Topic details component */\r\nimport { defineProps, onMounted, ref, defineEmits, watch } from \"vue\";\r\nimport FollowBtn from \"./FollowBtn.vue\";\r\n\r\nimport { publishArticle } from \"@/library/article\";\r\n\r\nimport { isOk } from \"@/library/server\";\r\nimport { reloadTopic } from \"@/library/topic\";\r\nimport NormalButton from \"./NormalButton.vue\";\r\nimport Dialog from \"./Dialog.vue\";\r\nimport Article from \"./Article.vue\";\r\n\r\nconst props = defineProps({\r\n  topic: Object,\r\n  width: Number,\r\n});\r\n\r\nconsole.log(\"TopicInfo\", props.topic);\r\n\r\nconst theTopic = ref(props.topic);\r\n\r\nconst emit = defineEmits([\"update:topic\"]);\r\n\r\nconst showArticleDialog = ref(false);\r\n\r\nconst article = ref();\r\n\r\nconst showPublishArticleDialog = ref(false);\r\n\r\nconst newArticleName = ref();\r\n\r\nconst newArticleContent = ref();\r\n\r\nfunction updateTopic(v) {\r\n  theTopic.value = v;\r\n  emit(\"update:topic\", v);\r\n}\r\n\r\nonMounted(() => {\r\n  reload();\r\n});\r\n\r\nwatch(\r\n  () => showArticleDialog.value,\r\n  () => {\r\n    if (showArticleDialog.value === false) {\r\n      reload();\r\n    }\r\n  }\r\n);\r\n\r\nfunction short(text) {\r\n  if (typeof text === \"string\") {\r\n    return text.slice(0, 35);\r\n  }\r\n  return text;\r\n}\r\n\r\nasync function reload() {\r\n  console.log(\"话题详情组件 reload\", theTopic);\r\n  reloadTopic(theTopic);\r\n}\r\n\r\nasync function onPublishArticle() {\r\n  const resp = await publishArticle(\r\n    theTopic.value.id,\r\n    newArticleName.value,\r\n    newArticleContent.value\r\n  );\r\n  const { ok } = await isOk(resp);\r\n  if (ok) {\r\n    showPublishArticleDialog.value = false;\r\n    alert(\"The release is successful. Please wait for the administrator's approval！\");\r\n    reload();\r\n  } else {\r\n    alert(\"Unable to publish article\");\r\n  }\r\n}\r\n\r\nfunction onClickArticle(a) {\r\n  article.value = a;\r\n  showArticleDialog.value = true;\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.topic {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 75%;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.title {\r\n  display: flex;\r\n  border: 1px solid #ccc;\r\n  border-radius: 8px;\r\n  background: #fff;\r\n\r\n  margin: 16px 0;\r\n}\r\n\r\n.title > .image {\r\n  width: 200px;\r\n  height: 120px;\r\n  margin: 20px;\r\n}\r\n\r\n.title > .info {\r\n  margin: 20px 16px 16px 16px;\r\n}\r\n\r\n.title > .info > .name {\r\n  font-size: 1.4rem;\r\n  padding-bottom: 16px;\r\n}\r\n\r\n.articleList {\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  border: 1px solid #ccc;\r\n  border-radius: 8px;\r\n  background: #fff;\r\n\r\n  width: 100%;\r\n}\r\n\r\n.articleList > .count {\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  padding: 16px;\r\n  border-bottom: 1px solid #aaa;\r\n}\r\n\r\n.articleList > .count > .text {\r\n  flex: 1;\r\n}\r\n\r\n.articleList > .list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  flex: 1 0 auto;\r\n}\r\n\r\n.article {\r\n  display: flex;\r\n  border-bottom: 1px solid #aaa;\r\n  padding: 8px;\r\n}\r\n\r\n.article > .image {\r\n  width: 60px;\r\n  height: 60px;\r\n  border-radius: 100%0;\r\n}\r\n\r\n.article > .info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1 1 auto;\r\n}\r\n\r\n.article > .info > .desp {\r\n  padding: 8px 0;\r\n  color: #666;\r\n\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n\r\n  width: 80%;\r\n}\r\n\r\n.article > .info > .name {\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n\r\n  width: 80%;\r\n}\r\n\r\n.article > .info > .comment {\r\n  padding: 8px 0;\r\n\r\n  flex-shrink: 0;\r\n}\r\n</style>","import script from \"./TopicInfo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TopicInfo.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TopicInfo.vue?vue&type=style&index=0&id=5516dade&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5516dade\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"topic_list\">\r\n    <div class=\"topic_name\">{{ props.name }}</div>\r\n    <div class=\"list\">\r\n      <div\r\n        class=\"topic\"\r\n        @click.stop=\"onClick(t)\"\r\n        v-for=\"t in props.topicList\"\r\n        :key=\"t.id\"\r\n      >\r\n        <img class=\"image\" alt=\"Vue logo\" :src=\"t.image\" />\r\n        <div class=\"name\">{{ t.name }}</div>\r\n        <div class=\"followers\">{{ t.followers }}people followed</div>\r\n      </div>\r\n    </div>\r\n\r\n    <Dialog\r\n      name=\"topic\"\r\n      v-model:showing=\"showTopicDialog\"\r\n      width=\"70vw\"\r\n      height=\"90vh\"\r\n    >\r\n      <div class=\"page_us\">\r\n        <TopicInfo :topic=\"showingTopic\"></TopicInfo>\r\n      </div>\r\n    </Dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps, ref } from \"vue\";\r\nimport TopicInfo from \"./TopicInfo.vue\";\r\nimport Dialog from \"./Dialog.vue\";\r\n\r\nconst props = defineProps({\r\n  name: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  topicList: {\r\n    type: Array,\r\n    required: true,\r\n    default() {\r\n      return [\r\n        {\r\n          id: \"\",\r\n          name: \"\",\r\n          image: \"\",\r\n          followers: \"\",\r\n        },\r\n      ];\r\n    },\r\n  },\r\n});\r\n\r\nconst showingTopic = ref();\r\n\r\nconst showTopicDialog = ref(false);\r\n\r\nfunction onClick(topic) {\r\n  console.log(\"list of topic onclick\", topic);\r\n  showingTopic.value = topic;\r\n  showTopicDialog.value = true;\r\n}\r\nconsole.log(\"list of topic\", props);\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.topic_list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  border: 1px solid #aaa;\r\n\r\n  border-radius: 8px;\r\n\r\n  border-radius: 8px;\r\n\r\n  font-size: 0.9rem;\r\n\r\n  flex: 1;\r\n  height: 100%;\r\n}\r\n\r\n.topic_list:nth-child(1) {\r\n  margin-right: 16px;\r\n}\r\n\r\n.topic_name {\r\n  padding: 16px;\r\n  border-bottom: 1px solid #aaa;\r\n}\r\n\r\n.topic_list > .list {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.topic {\r\n  border-top: 1px solid #aaa;\r\n\r\n  display: flex;\r\n\r\n  align-items: center;\r\n}\r\n\r\n.topic:hover {\r\n  background: #cef1fd;\r\n}\r\n\r\n.topic:nth-child(1) {\r\n  border-top: none;\r\n}\r\n\r\n.topic > .image {\r\n  border-top-left-radius: 8px;\r\n  border-top-right-radius: 8px;\r\n\r\n  width: 28px;\r\n  height: 28px;\r\n\r\n  margin: 12px;\r\n}\r\n\r\n.topic > .name {\r\n  flex: 1 0 auto;\r\n}\r\n\r\n.topic > .followers {\r\n  padding: 0 16px;\r\n}\r\n\r\n.page_us {\r\n  display: flex;\r\n  justify-content: center;\r\n  overflow: auto;\r\n  height: 600px;\r\n}\r\n</style>","import script from \"./TopicList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TopicList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TopicList.vue?vue&type=style&index=0&id=0f97bcaa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0f97bcaa\"]])\n\nexport default __exports__","import script from \"./CommentList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CommentList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CommentList.vue?vue&type=style&index=0&id=32cb530a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-32cb530a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"topic\" @click.stop=\"onClick\">\r\n    <img\r\n      class=\"image\"\r\n      :style=\"{ width: props.width + 'px' }\"\r\n      alt=\"Vue logo\"\r\n      :src=\"props.topic.image\"\r\n    />\r\n    <div class=\"info\">\r\n      <div class=\"name\">{{ props.topic.name }}</div>\r\n      <FollowBtn :topic=\"theTopic\" @update:topic=\"updaterTopic\"></FollowBtn>\r\n    </div>\r\n    <Dialog\r\n      name=\"topic\"\r\n      v-model:showing=\"showTopicDialog\"\r\n      width=\"70vw\"\r\n      height=\"90vh\"\r\n    >\r\n      <div class=\"page_us\">\r\n        <TopicInfo :topic=\"theTopic\" @update:topic=\"updaterTopic\"></TopicInfo>\r\n      </div>\r\n    </Dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n/* topic component */\r\nimport { defineProps, ref, onMounted } from \"vue\";\r\nimport { reloadTopic } from \"@/library/topic\";\r\nimport FollowBtn from \"./FollowBtn.vue\";\r\nimport Dialog from \"./Dialog.vue\";\r\nimport TopicInfo from \"./TopicInfo.vue\";\r\n\r\nconst props = defineProps({\r\n  topic: {\r\n    type: Object,\r\n    required: true,\r\n    default() {\r\n      return {\r\n        id: \"\",\r\n        name: \"\",\r\n        image: \"\",\r\n        followers: \"\",\r\n      };\r\n    },\r\n  },\r\n  width: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n});\r\n\r\nconst theTopic = ref(props.topic);\r\n\r\nonMounted(() => {\r\n  reload();\r\n});\r\n\r\nasync function reload() {\r\n  reloadTopic(theTopic);\r\n}\r\n\r\nfunction updaterTopic(v) {\r\n  theTopic.value = v;\r\n}\r\n\r\nconst showTopicDialog = ref(false);\r\n\r\nconsole.log(props);\r\n\r\nfunction onClick() {\r\n  showTopicDialog.value = true;\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.topic {\r\n  margin: 8px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-shrink: 1;\r\n}\r\n\r\n.topic > .info {\r\n  padding: 4px;\r\n\r\n  background: #fff;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  border-bottom-left-radius: 8px;\r\n  border-bottom-right-radius: 8px;\r\n}\r\n\r\n.topic > .info > .name {\r\n  padding: 8px;\r\n}\r\n\r\n.topic > .image {\r\n  border-top-left-radius: 8px;\r\n  border-top-right-radius: 8px;\r\n\r\n  width: 180px;\r\n  height: 80px;\r\n}\r\n\r\n.follow_btn {\r\n  display: flex;\r\n\r\n  justify-content: center;\r\n\r\n  align-items: center;\r\n\r\n  background: #8ad2ee;\r\n  border-radius: 4px;\r\n\r\n  color: #fff;\r\n\r\n  font-size: 0.8rem;\r\n\r\n  cursor: pointer;\r\n  margin: 8px;\r\n\r\n  flex: 1;\r\n}\r\n\r\n.follow_btn > .follow {\r\n  padding: 8px;\r\n}\r\n\r\n.follow_btn > .follow_info {\r\n  padding: 8px;\r\n\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.page_us {\r\n  display: flex;\r\n  justify-content: center;\r\n  overflow: auto;\r\n  height: 600px;\r\n}\r\n</style>","import script from \"./Topic.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Topic.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Topic.vue?vue&type=style&index=0&id=6a0827c9&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6a0827c9\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"slideshow\">\r\n    <div class=\"show\" @mouseenter=\"pause\" @mouseleave=\"resume\">\r\n      <div class=\"move\" :style=\"{ left: offeset + 'px' }\">\r\n        <Topic\r\n          v-for=\"t in theShowList\"\r\n          :topic=\"t\"\r\n          :width=\"topicWidth\"\r\n          :key=\"t.name\"\r\n        ></Topic>\r\n      </div>\r\n    </div>\r\n    <!-- <div class=\"btn\" @click=\"next\">下一步</div>\r\n        <div class=\"btn\" @click=\"play\">自动播放</div> -->\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, defineProps, computed } from \"vue\";\r\n\r\nimport Topic from \"./Topic.vue\";\r\n\r\nconst topicMargin = 8 * 2 + 2;\r\nconst topicWidth = 200;\r\n\r\nconst props = defineProps({\r\n  topicList: {\r\n    type: Array,\r\n    required: true,\r\n    default() {\r\n      return [\r\n        {\r\n          id: \"\",\r\n          name: \"\",\r\n          image: \"\",\r\n          followers: \"\",\r\n        },\r\n      ];\r\n    },\r\n  },\r\n});\r\n\r\nconst theShowList = computed(() => [...props.topicList, ...props.topicList]);\r\n\r\nconst paused = ref(false);\r\n\r\nconst offeset = ref(0);\r\n\r\nif (!paused.value) {\r\n  play();\r\n}\r\n\r\n/**\r\n * move a little distance\r\n */\r\nfunction next() {\r\n  const step = topicWidth + topicMargin;\r\n  offeset.value -= 1;\r\n\r\n  if (offeset.value <= (-theShowList.value.length * step) / 2) {\r\n    offeset.value = 0;\r\n  }\r\n}\r\n\r\n/**\r\n * pause scrolling\r\n */\r\nfunction pause() {\r\n  paused.value = !paused.value;\r\n}\r\n\r\n/**\r\n * continue scrolling\r\n */\r\nfunction resume() {\r\n  paused.value = false;\r\n  play();\r\n}\r\n\r\n/**\r\n * Start automatic scrolling(If paused, demand is suspended first, paused.value = false)\r\n */\r\nfunction play() {\r\n  if (paused.value == true) {\r\n    console.log(\"If pause is set, scroll is not performed\");\r\n    return;\r\n  }\r\n\r\n  requestAnimationFrame(() => {\r\n    next();\r\n    play();\r\n  });\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.slideshow {\r\n  display: flex;\r\n  width: 100%;\r\n  height: 220px;\r\n}\r\n\r\n.slideshow > .show {\r\n  display: flex;\r\n  position: relative;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n.slideshow > .show > .move {\r\n  display: flex;\r\n\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n}\r\n</style>","import script from \"./SlideShow.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SlideShow.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SlideShow.vue?vue&type=style&index=0&id=a9e82028&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a9e82028\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"home_contrainer\">\r\n    <div class=\"topic_name\">Recommended topic</div>\r\n    <SlideShow :topic-list=\"recommendTopicList\"></SlideShow>\r\n    <div class=\"list\">\r\n      <TopicList name=\"Hot topic\" :topic-list=\"hotTopicList\"></TopicList>\r\n      <CommentList name=\"Latest comments\" :comment-list=\"latest\"></CommentList>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n<script setup>\r\nimport { fetchDataFromServer, isOk } from \"@/library/server\";\r\n\r\nimport TopicList from \"../components/TopicList.vue\";\r\nimport CommentList from \"../components/CommentList.vue\";\r\nimport SlideShow from \"../components/SlideShow.vue\";\r\nimport { onMounted, ref } from \"vue\";\r\nimport { subscribe, updateTopicListEvent } from \"@/library/subscribe\";\r\n\r\nconst recommendTopicList = ref([]);\r\n\r\nconst hotTopicList = ref([]);\r\n\r\nonMounted(() => {\r\n  load();\r\n});\r\n\r\nsubscribe(updateTopicListEvent, () => {\r\n  getHotTopicList();\r\n  getLatestComment();\r\n});\r\n\r\nasync function load() {\r\n  getRecommendTopicList();\r\n  getHotTopicList();\r\n  getLatestComment();\r\n}\r\n\r\nasync function getRecommendTopicList() {\r\n  const resp = await fetchDataFromServer(`/get_recommend_topic.php`);\r\n  console.log(\"获得推荐的话题\", resp);\r\n  const { ok, message, data } = await isOk(resp);\r\n  if (ok) {\r\n    console.log(\"推荐的话题\", data);\r\n    recommendTopicList.value = data;\r\n  } else {\r\n    alert(message);\r\n  }\r\n}\r\n\r\nconst latest = ref([]);\r\n\r\nasync function getHotTopicList() {\r\n  const resp = await fetchDataFromServer(`/get_hot_topic.php`);\r\n  console.log(\"获得热门的话题\", resp);\r\n  const { ok, message, data } = await isOk(resp);\r\n  if (ok) {\r\n    console.log(\"热门的话题\", data);\r\n    hotTopicList.value = data;\r\n  } else {\r\n    alert(message);\r\n  }\r\n}\r\n\r\nasync function getLatestComment() {\r\n  const resp = await fetchDataFromServer(`/get_latest_comment.php`);\r\n  console.log(\"获得最新的评论\", resp);\r\n  const { ok, message, data } = await isOk(resp);\r\n  if (ok) {\r\n    console.log(\"最新的评论\", data);\r\n    latest.value = data;\r\n  } else {\r\n    alert(message);\r\n  }\r\n}\r\n</script>\r\n  \r\n<style scoped>\r\n.topic_name {\r\n  padding: 8px;\r\n}\r\n\r\n.home_contrainer {\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n\r\n  height: 85%;\r\n}\r\n\r\n.content {\r\n  display: flex;\r\n\r\n  flex: 1;\r\n}\r\n\r\n.content > .page_list {\r\n  display: flex;\r\n\r\n  padding: 16px;\r\n\r\n  flex-direction: column;\r\n}\r\n\r\n.content > .page_list > .item {\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  padding: 16px 60px;\r\n}\r\n\r\n.content > .page_list > .item > .icon {\r\n  width: 32px;\r\n  height: 32px;\r\n  margin-right: 8px;\r\n}\r\n\r\n.content > .page_list > .item:hover {\r\n  background: #e9eef8;\r\n\r\n  border-radius: 4px;\r\n\r\n  cursor: pointer;\r\n}\r\n\r\n.content > .page {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.list {\r\n  display: flex;\r\n}\r\n\r\n.right_space {\r\n  width: 60px;\r\n  height: 40px;\r\n}\r\n\r\n.hot_topic_list {\r\n  display: flex;\r\n}\r\n</style>\r\n  ","import script from \"./home.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./home.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./home.vue?vue&type=style&index=0&id=48d2802e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-48d2802e\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"user\">\r\n    <div class=\"head\">\r\n      <img\r\n        class=\"image\"\r\n        :style=\"{ width: props.width + 'px' }\"\r\n        alt=\"Vue logo\"\r\n        :src=\"props.user.headimage\"\r\n      />\r\n    </div>\r\n    <div class=\"info\">\r\n      <div class=\"name\">{{ props.user.name }}</div>\r\n      <div class=\"follow_btn\" @click=\"follow\">\r\n        <div class=\"follow\" v-if=\"props.user.followed\">followed</div>\r\n        <div class=\"follow\" v-else>+follow</div>\r\n        <div class=\"follow_info\">{{ props.user.followers }}people followed</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { fetchDataFromServer, isOk } from \"@/library/server\";\r\nimport { computed, defineProps, defineEmits } from \"vue\";\r\n\r\nconst props = defineProps({\r\n  user: {\r\n    name: String,\r\n    headimage: String,\r\n    followers: Number,\r\n    followed: Number,\r\n  },\r\n});\r\n\r\nconsole.log(props);\r\nconst emit = defineEmits([\"update:user\"]);\r\n\r\nconst user = computed({\r\n  get: () => {\r\n    return props.user;\r\n  },\r\n  set: (v) => {\r\n    emit(\"update:user\", v);\r\n  },\r\n});\r\n\r\nconsole.log(\"data of account\", user.value);\r\n\r\n/**\r\n * Follow an account\r\n * @param {*} member Member/user information\r\n * @param {string} id\r\n */\r\nasync function follow() {\r\n  const resp = await fetchDataFromServer(\r\n    `/follow_user.php?id=${user.value.id}`\r\n  );\r\n  console.log(\"Follow an account\", resp, user.value.followed);\r\n  const { ok, message } = await isOk(resp);\r\n  if (ok) {\r\n    if (message == \"取消关注成功\") {\r\n      user.value.followed = false;\r\n      user.value.followers = user.value.followers - 1;\r\n    } else if (message == \"关注成功\") {\r\n      user.value.followed = true;\r\n      user.value.followers = user.value.followers + 1;\r\n    } else {\r\n      alert(message);\r\n    }\r\n  } else {\r\n    alert(message);\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.user {\r\n  border: 1px solid #ccc;\r\n\r\n  border-radius: 8px;\r\n\r\n  margin: 16px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  flex-shrink: 0;\r\n\r\n  flex-basis: 20%;\r\n}\r\n\r\n.user > .info {\r\n  padding: 4px;\r\n\r\n  background: #fff;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  border-bottom-left-radius: 8px;\r\n  border-bottom-right-radius: 8px;\r\n}\r\n\r\n.user > .info > .name {\r\n  padding: 8px;\r\n\r\n  align-self: center;\r\n}\r\n\r\n.user > .head {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.user > .head > .image {\r\n  width: 60px;\r\n  height: 60px;\r\n  margin: 16px 0;\r\n  border-radius: 100%;\r\n}\r\n\r\n.follow_btn {\r\n  display: flex;\r\n\r\n  justify-content: center;\r\n\r\n  align-items: center;\r\n\r\n  background: #8ad2ee;\r\n  border-radius: 4px;\r\n\r\n  color: #fff;\r\n\r\n  font-size: 0.8rem;\r\n\r\n  cursor: pointer;\r\n  margin: 8px;\r\n\r\n  flex: 1;\r\n}\r\n\r\n.follow_btn:active {\r\n  background: #52add1;\r\n}\r\n\r\n.follow_btn > .follow {\r\n  padding: 8px;\r\n}\r\n\r\n.follow_btn > .follow_info {\r\n  padding: 8px;\r\n\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n</style>","import script from \"./User.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./User.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./User.vue?vue&type=style&index=0&id=489e18c3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-489e18c3\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"member_contrainer\">\r\n    <div class=\"members\">\r\n      <User :user=\"member\" v-for=\"member in members\" :key=\"member.id\"></User>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport topicImage from \"@/assets/images/abss.jpg\";\r\nimport User from \"@/components/User.vue\";\r\nimport { fetchDataFromServer, isOk } from \"@/library/server\";\r\n\r\nconst members = ref(\r\n  [].map((name, i) => {\r\n    console.log(\"生成测试用户\", name, i);\r\n    return {\r\n      name: name,\r\n      headimage: topicImage,\r\n      followers: i * 10,\r\n      id: i,\r\n    };\r\n  })\r\n);\r\n\r\ngetAllWebsiteAccount();\r\n\r\nasync function getAllWebsiteAccount() {\r\n  const resp = await fetchDataFromServer(`/alluser.php`);\r\n  console.log(\"获得网站上所有用户的账号信息\", resp);\r\n  const { ok, message, data } = await isOk(resp);\r\n  if (ok) {\r\n    console.log(\"所有用户\", data);\r\n    members.value = data.map((user) => {\r\n      return {\r\n        id: user.id,\r\n        name: user.nickname,\r\n        headimage: topicImage,\r\n        followers: user.followers,\r\n        followed: user.followed,\r\n      };\r\n    });\r\n  } else {\r\n    alert(\"login failure:\" + message);\r\n  }\r\n}\r\n</script>\r\n  \r\n<style scoped>\r\n.member_name {\r\n  padding: 8px;\r\n}\r\n\r\n.member_contrainer {\r\n  display: flex;\r\n}\r\n\r\n.members {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  width: 100%;\r\n}\r\n</style>\r\n  ","import script from \"./member.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./member.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./member.vue?vue&type=style&index=0&id=2fe80be4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2fe80be4\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"category_contrainer\">\r\n    <div class=\"categorys\">\r\n      <div class=\"category\" v-for=\"category in categorys\" :key=\"category\">\r\n        <div class=\"category_name\">{{ category }}</div>\r\n        <div class=\"topic_list\">\r\n          <Topic\r\n            v-for=\"t in recommendTopicList[category]\"\r\n            :topic=\"t\"\r\n            :key=\"t.id\"\r\n            :width=\"240\"\r\n          ></Topic>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport { getAllTopic } from \"@/library/topic\";\r\nimport Topic from \"../components/Topic.vue\";\r\nimport { isOk } from \"@/library/server\";\r\n\r\nconst categorys = [\"Inbound\", \"Alerts\", \"Resources\", \"Health\", \"Volunteers\"];\r\n\r\nconst recommendTopicList = ref([]);\r\n\r\nload();\r\n\r\nasync function load() {\r\n  const resp = await getAllTopic();\r\n  const { ok, data } = await isOk(resp);\r\n  if (ok) {\r\n    recommendTopicList.value = category(data);\r\n  }\r\n}\r\n\r\n\r\nfunction category(data) {\r\n  const list = {};\r\n\r\n  data.forEach((topic) => {\r\n    if (list[topic.type]) {\r\n      \r\n      list[topic.type].push(topic);\r\n    } else {\r\n      \r\n      list[topic.type] = [topic];\r\n    }\r\n  });\r\n\r\n  return list;\r\n}\r\n</script>\r\n  \r\n<style scoped>\r\n.category_name {\r\n  padding: 8px;\r\n}\r\n\r\n.category_contrainer {\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n\r\n \r\n  height: 85%;\r\n}\r\n\r\n.categorys {\r\n \r\n\r\n \r\n  overflow: auto;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.category {\r\n  flex-shrink: 0;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-basis: 15%;\r\n}\r\n\r\n.topic_list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n</style>\r\n  ","import script from \"./category.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./category.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./category.vue?vue&type=style&index=0&id=2ba24da4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2ba24da4\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"page_us\">\r\n    <TopicInfo :topic=\"topic\"></TopicInfo>\r\n  </div>\r\n</template>\r\n  \r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport TopicInfo from \"@/components/TopicInfo.vue\";\r\n\r\nconst topic = ref({\r\n  name: \"Indbound\",\r\n});\r\n</script>\r\n  \r\n<style scoped>\r\n.page_us {\r\n  display: flex;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n  ","import script from \"./about_us.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./about_us.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./about_us.vue?vue&type=style&index=0&id=1b8bfba8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1b8bfba8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"manager\">\r\n    <div class=\"tool\">\r\n      <NormalButton @click=\"showNewTopicDialog = true\">create new topic</NormalButton>\r\n    </div>\r\n    <div class=\"table_name\">User-created list of articles to be reviewed</div>\r\n\r\n    <div class=\"article_table\">\r\n      <div class=\"head\">\r\n        <div class=\"item\">ID</div>\r\n        <div class=\"item\">author</div>\r\n        <div class=\"item\">name</div>\r\n        <div class=\"item\">content</div>\r\n        <div class=\"item\">create time</div>\r\n        <div class=\"item\">operation</div>\r\n      </div>\r\n      <div class=\"list\">\r\n        <div\r\n          class=\"article\"\r\n          v-for=\"article in unpulishedArticles\"\r\n          :key=\"article.id\"\r\n        >\r\n          <div class=\"item\">{{ article.id }}</div>\r\n          <div class=\"item\">{{ article.author_name }}</div>\r\n          <div class=\"item\">{{ article.name }}</div>\r\n          <div class=\"item\">{{ article.content }}</div>\r\n          <div class=\"item\">{{ getDateString(article.create_time) }}</div>\r\n          <div class=\"item operation\">\r\n            <NormalButton @click=\"onAllowPublishArticle(article.id)\"\r\n              >publish this article</NormalButton\r\n            >\r\n            <NormalButton @click=\"onDeleteArticle(article.id)\"\r\n              >delete this article</NormalButton\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <Dialog\r\n      name=\"create new topic\"\r\n      :noBackground=\"true\"\r\n      v-model:showing=\"showNewTopicDialog\"\r\n    >\r\n      <label for=\"image\">Choose a picture of the topic：</label>\r\n      <input type=\"file\" name=\"image\" id=\"image\" @change=\"onChange\" required />\r\n      <input type=\"text\" placeholder=\"Please enter the topic name\" v-model=\"topicName\" />\r\n      <input type=\"text\" placeholder=\"Please enter the topic brief\" v-model=\"topicDesp\" />\r\n      <select v-model=\"topicType\">\r\n        <option value=\"Alerts\">Alerts</option>\r\n        <option value=\"Volunteers\">Volunteers</option>\r\n        <option value=\"Resources\">Resources</option>\r\n        <option value=\"Health\" selected>Health</option>\r\n      </select>\r\n      <NormalButton @click=\"onCreateTopic\">Create a new topic immediately</NormalButton>\r\n    </Dialog>\r\n  </div>\r\n</template>\r\n  \r\n<script setup>\r\nimport { ref } from \"vue\";\r\n\r\nimport NormalButton from \"@/components/NormalButton.vue\";\r\nimport Dialog from \"@/components/Dialog.vue\";\r\n\r\nimport { getDateString } from \"@/library/date\";\r\nimport { isOk } from \"@/library/server\";\r\nimport {\r\n  createTopic,\r\n  getAllArticleUnpublished,\r\n  allowPublishArticle,\r\n  deleteArticle,\r\n} from \"@/library/topic\";\r\n\r\nconst showNewTopicDialog = ref(false);\r\n\r\nconst topicName = ref(\"\");\r\nconst topicDesp = ref(\"\");\r\nconst topicType = ref(\"\");\r\n\r\nconst formData = ref(new FormData());\r\n\r\nfunction onChange(event) {\r\n  formData.value.append(\"image\", event.target.files[0]);\r\n}\r\n\r\nasync function onCreateTopic() {\r\n  const resp = await createTopic(\r\n    formData.value,\r\n    topicType.value,\r\n    topicName.value,\r\n    topicDesp.value\r\n  );\r\n\r\n  const { ok, message } = await isOk(resp);\r\n  if (ok) {\r\n    console.log(\"创建话题结果\", message);\r\n    showNewTopicDialog.value = false;\r\n  } else {\r\n    alert(message);\r\n  }\r\n}\r\n\r\nconst unpulishedArticles = ref();\r\n\r\nloadGetAllArticleUnpublished();\r\n\r\nasync function loadGetAllArticleUnpublished() {\r\n  const resp = await getAllArticleUnpublished();\r\n\r\n  const { ok, data, message } = await isOk(resp);\r\n  if (ok) {\r\n    console.log(\"获得未发布的所有文章\", data);\r\n    unpulishedArticles.value = data;\r\n  } else {\r\n    alert(message);\r\n  }\r\n}\r\n\r\nasync function onAllowPublishArticle(articleID) {\r\n  const resp = await allowPublishArticle(articleID);\r\n  const { ok, message } = await isOk(resp);\r\n  if (ok) {\r\n    loadGetAllArticleUnpublished();\r\n  } else {\r\n    alert(message);\r\n  }\r\n}\r\n\r\nasync function onDeleteArticle(articleID) {\r\n  const resp = await deleteArticle(articleID);\r\n  const { ok, message } = await isOk(resp);\r\n  if (ok) {\r\n    loadGetAllArticleUnpublished();\r\n  } else {\r\n    alert(message);\r\n  }\r\n}\r\n</script>\r\n  \r\n<style scoped>\r\n.manager {\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n.manager > .tool {\r\n  display: flex;\r\n}\r\n\r\n.article_table {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n\r\n  flex-basis: 75%;\r\n  flex-shrink: 0;\r\n\r\n  font-size: 0.8rem;\r\n\r\n  background: #fff;\r\n  border-radius: 16px;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n}\r\n\r\n.table_name {\r\n  padding: 8px;\r\n}\r\n\r\n.article_table > .list {\r\n  overflow: auto;\r\n}\r\n\r\n.head,\r\n.article {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.article:hover {\r\n  background: #ecebeb;\r\n}\r\n\r\n.article_table .item {\r\n  flex-basis: 10%;\r\n  padding: 8px;\r\n  display: flex;\r\n}\r\n\r\n.article_table .operation {\r\n  flex: 1 0 auto;\r\n}\r\n</style>\r\n  ","import script from \"./manager.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./manager.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./manager.vue?vue&type=style&index=0&id=151ce893&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.2.2_vue@3.2.13_webpack@5.88.2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-151ce893\"]])\n\nexport default __exports__","import { fetchDataFromServer } from \"../library/server\"\r\n\r\n\r\n\r\nexport async function getUnreadMessage() {\r\n    const resp = await fetchDataFromServer(`/get_unread_message.php`)\r\n    console.log('获得未读取的消息', resp)\r\n    return resp\r\n}\r\n\r\n\r\n\r\nexport async function markMessageHasRead() {\r\n    const resp = await fetchDataFromServer(`/mark_message_has_read.php`)\r\n    console.log('获得未读取的消息', resp)\r\n    return resp\r\n}","<template>\n  <Top></Top>\n  <div class=\"app_content\">\n    <div class=\"page_list\">\n      <div :class=\"{ 'item': true, 'choosed': choosedPageName === page.name }\" v-for=\"page in pageList\" :key=\"page.name\"\n        @click=\"onChoosePage(page)\">\n        <img class=\"icon\" :src=\"page.src\" :alt=\"page.name\">\n        {{ page.name }}\n      </div>\n      <div class=\"message_list\">\n        <a>unread message<div class=\"red_dot\" v-if=\"messages.length > 0\"></div></a>\n        <div class=\"top_menu\" style=\"width: 420px;\">\n          <div class=\"messages\" v-if=\"messages.length > 0\" >\n            <div class=\"message\" v-for=\"message in messages\" :key=\"message.id\">\n              <div class=\"content\">{{ message.content }}</div>\n              <div class=\"create_time\">{{ getDateString(message.create_time) }}</div>\n            </div>\n          </div>\n          <div class=\"empty_messages\" v-else>(No unread messages)</div>\n          <div class=\"mark_all_read\" @click.stop=\"onMarkAllRead\">Mark all read</div>\n        </div>\n      </div>\n\n    </div>\n    <div class=\"page\">\n      <component :is=\"thePage\"></component>\n    </div>\n\n  </div>\n</template>\n\n<script setup>\nimport Top from './components/Top.vue'\n// import Topic from './components/Topic.vue'\nimport Home from './pages/home.vue'\nimport Member from './pages/member.vue'\nimport Category from './pages/category.vue'\nimport AboutUs from './pages/about_us.vue'\nimport Manager from './pages/manager.vue'\n\nimport { onUnmounted, ref } from \"vue\"\n\nimport homeImage from \"./assets/images/icon/home.svg\"\nimport categoryImage from \"./assets/images/icon/category.svg\"\nimport memberImage from \"./assets/images/icon/member.svg\"\n\nimport aboutUsImage from \"./assets/images/icon/about_us.svg\"\n\nimport vipImage from \"./assets/images/icon/vip.svg\"\n\nimport { isOk } from \"@/library/server\"\nimport { getUnreadMessage, markMessageHasRead } from \"@/library/mesasge\"\nimport { getDateString } from \"@/library/date\"\nimport { subscribe } from './library/subscribe'\n\n\nconst thePage = ref(Home)\n\n\nconst pageList = [\n  {\n    name: \"ForumHomePage\",\n    src: homeImage,\n    component: Home,\n  },\n  {\n    name: \"Classification\",\n    src: categoryImage,\n    component: Category,\n  },\n  {\n    name: \"ForumMember\",\n    src: memberImage,\n    component: Member,\n  },\n  {\n    name: \"About\",\n    src: aboutUsImage,\n    component: AboutUs,\n  },\n  {\n    name: \"AdministratorOnly\",\n    src: vipImage,\n    component: Manager,\n  },\n]\n\n// The selected page name\nconst choosedPageName = ref(pageList[0].name)\n\nfunction onChoosePage(page) {\n  console.log('页面', page)\n  choosedPageName.value = page.name\n  thePage.value = page.component\n}\n\nconst messages = ref([])\n\nconst timer = ref()\n\nsubscribe('已登录', () => {\n  loadUnreadMessage()\n  // Update the message every few seconds\n  timer.value = setInterval(() => {\n    loadUnreadMessage()\n  }, 5 * 1000)\n})\n\nsubscribe('已退出登录', () => {\n  if (timer.value) {\n    clearInterval(timer.value)\n  }\n})\n\nonUnmounted(() => {\n  // When the component is uninstalled, cancel the timer\n  if (timer.value) {\n    clearInterval(timer.value)\n  }\n})\n\n\n// Get an unread message\nasync function loadUnreadMessage() {\n  const resp = await getUnreadMessage(`/get_unread_message.php`)\n  console.log('获得未读取的消息', resp)\n  const { ok, data } = await isOk(resp)\n  if (ok) {\n    messages.value = data\n  }\n}\n\n\n// Mark the message as read\nasync function onMarkAllRead() {\n  const resp = await markMessageHasRead()\n  console.log('标记消息已读', resp)\n  const { ok, message } = await isOk(resp)\n  if (ok) {\n    loadUnreadMessage()\n  } else {\n    alert('Mark message read failed:' + message)\n  }\n}\n\n</script>\n\n<style>\n* {\n  padding: 0;\n  margin: 0;\n}\n\nbody {\n  background: linear-gradient(#e8edff, #99cdfe);\n  height: 100vh;\n  width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  height: 100vh;\n  width: 100vw;\n\n  display: flex;\n  flex-direction: column;\n\n  \n  overflow: hidden;\n}\n\ninput {\n  \n  border: 1px solid #ccc;\n  padding: 8px;\n  outline: none;\n  margin: 8px 0;\n}\n\ntextarea {\n  \n  border: 1px solid #ccc;\n  padding: 8px;\n  outline: none;\n  margin: 8px 0;\n}\n\nselect {\n  \n  background-color: #dfdfdf;\n  border: 1px solid #ccc;\n  padding: 8px 16px;\n  outline: none;\n  margin: 8px 0;\n}\n\n.link {\n  \n  color: #78C0E0;\n  text-decoration: underline;\n}\n\n.topic_name {\n  padding: 8px;\n}\n\n.app_content {\n  display: flex;\n\n  flex: 1 0 auto;\n  height: 100%;\n  margin: 0 40px;\n}\n\n.app_content>.page_list {\n  display: flex;\n\n  padding: 16px 16px 16px 0;\n  flex-direction: column;\n  overflow: hidden;\n\n}\n\n.app_content>.page_list>.item {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  padding: 16px 0;\n  margin: 8px 0;\n}\n\n.app_content>.page_list>.item>.icon {\n  width: 32px;\n  height: 32px;\n  margin-right: 8px;\n  border-radius: 8px;\n}\n\n.app_content>.page_list>.choosed {\n  background: #9bc8f3;\n  border-radius: 8px;\n}\n\n.app_content>.page_list>.item:hover {\n\n  background: #e9eef8;\n\n  border-radius: 4px;\n\n  cursor: pointer;\n}\n\n.app_content>.page {\n\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  flex: 1 0 auto;\n}\n\n\n.message_list {\n\n  position: relative;\n\n}\n\n.mark_all_read {\n  border-top: 1px solid #fff;\n  padding: 8px;\n  cursor: pointer;\n}\n\n.messages {\n  display: flex;\n  flex-direction: column;\n}\n\n.empty_messages {\n  padding: 16px;\n}\n\n.red_dot {\n  width: 8px;\n  height: 8px;\n  position: absolute;\n  right: 8px;\n  top: 8px;\n\n  background: red;\n\n  border-radius: 100%;\n}\n\n.messages>.message {\n  display: flex;\n  font-size: 0.8rem;\n  padding: 16px;\n}\n\n.messages>.message>.content {\n  flex: 1;\n}\n\n.messages>.message>.create_time {\n  flex-shrink: 0;\n}\n</style>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=35c4a96a&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkbbs\"] = self[\"webpackChunkbbs\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(304); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["__exports__","serverHost","async","fetchDataFromServer","url","init","u","console","log","resp","fetch","mode","isOk","json","result","ok","status","message","data","getTopic","topicName","getAllTopic","followTopic","topicID","getAllArticleUnpublished","allowPublishArticle","articleID","deleteArticle","createTopic","formData","type","topicDesp","body","method","reloadTopic","topic","value","name","center","updateHotTopic","updateTopicListEvent","updateTopicFollowStatusEvent","subscribe","eventName","callback","push","emitEvent","forEach","theTopic","computed","get","props","set","v","emit","onFollowTopic","id","topicData","alert","onMounted","publishArticle","topic_id","article_name","article_content","showing","onClose","getDateString","timestamp","date","Date","today","yesterday","hoursText","getHours","toString","padStart","minutesText","getMinutes","timeText","monthText","getMonth","getDate","isSameDate","isSameYear","distance","getDayDistance","getFullYear","a","b","year","month","day","year1","month1","day1","oneDay","Math","round","abs","comments","ref","getComment","article","commentContent","publishComment","showArticleDialog","showPublishArticleDialog","newArticleName","newArticleContent","updateTopic","short","text","slice","reload","onPublishArticle","onClickArticle","watch","showingTopic","showTopicDialog","onClick","updaterTopic","topicMargin","topicWidth","theShowList","topicList","paused","offeset","next","step","length","pause","resume","play","requestAnimationFrame","recommendTopicList","hotTopicList","load","getRecommendTopicList","getHotTopicList","getLatestComment","latest","user","follow","followed","followers","members","map","i","headimage","topicImage","getAllWebsiteAccount","nickname","categorys","category","list","showNewTopicDialog","topicType","FormData","onChange","event","append","target","files","onCreateTopic","unpulishedArticles","loadGetAllArticleUnpublished","onAllowPublishArticle","onDeleteArticle","getUnreadMessage","markMessageHasRead","thePage","Home","pageList","src","homeImage","component","categoryImage","Category","memberImage","Member","aboutUsImage","AboutUs","vipImage","Manager","choosedPageName","onChoosePage","page","messages","timer","loadUnreadMessage","onMarkAllRead","setInterval","clearInterval","onUnmounted","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","key","splice","r","d","definition","o","defineProperty","enumerable","g","globalThis","this","Function","e","window","obj","prop","prototype","hasOwnProperty","call","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}